(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[420],{5966:function(U,x,e){"use strict";var O=e(22122),S=e(81253),T=e(67294),L=e(45114),V=["fieldProps","proFieldProps"],f=["fieldProps","proFieldProps"],v="text",B=function(c){var M=c.fieldProps,b=c.proFieldProps,I=(0,S.Z)(c,V);return T.createElement(L.Z,(0,O.Z)({mode:"edit",valueType:v,fieldProps:M,filedConfig:{valueType:v},proFieldProps:b},I))},n=function(c){var M=c.fieldProps,b=c.proFieldProps,I=(0,S.Z)(c,f);return T.createElement(L.Z,(0,O.Z)({mode:"edit",valueType:"password",fieldProps:M,proFieldProps:b,filedConfig:{valueType:v}},I))},R=B;R.Password=n,R.displayName="ProFormComponent",x.Z=R},16894:function(U,x,e){"use strict";var O=e(7381),S=e(40280);x.ZP=S.Z},5705:function(U,x,e){"use strict";e.r(x),e.d(x,{default:function(){return oe}});var O=e(57663),S=e(71577),T=e(2824),L=e(11849),V=e(34792),f=e(48086),v=e(3182),B=e(94043),n=e.n(B),R=e(49101),d=e(67294),c=e(21010),M=e(81907),b=e(85224),I=e(16894),H=e(22122),K=e(28991),z=e(81253),N=e(45114),G=e(22270),Q=e(66758),X=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],k=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],q=d.forwardRef(function(a,p){var o=a.fieldProps,u=a.children,F=a.params,r=a.proFieldProps,Z=a.mode,D=a.valueEnum,C=a.request,h=a.showSearch,A=a.options,j=(0,z.Z)(a,X),P=(0,d.useContext)(Q.Z);return d.createElement(N.Z,(0,H.Z)({mode:"edit",valueEnum:(0,G.h)(D),request:C,params:F,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,K.Z)({options:A,mode:Z,showSearch:h,getPopupContainer:P.getPopupContainer},o),ref:p,proFieldProps:r},j),u)}),_=d.forwardRef(function(a,p){var o=a.fieldProps,u=a.children,F=a.params,r=a.proFieldProps,Z=a.mode,D=a.valueEnum,C=a.request,h=a.options,A=(0,z.Z)(a,k),j=(0,K.Z)({options:h,mode:Z||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},o),P=(0,d.useContext)(Q.Z);return d.createElement(N.Z,(0,H.Z)({mode:"edit",valueEnum:(0,G.h)(D),request:C,params:F,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,K.Z)({getPopupContainer:P.getPopupContainer},j),ref:p,proFieldProps:r},A),u)}),ee=q,re=_,$=ee;$.SearchSelect=re,$.displayName="ProFormComponent";var ae=$,te=e(8890),Y=e(5966),w=e(36571),s=e(85893),se=function(){var a=(0,v.Z)(n().mark(function p(o){var u;return n().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=f.default.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,w.b8)((0,L.Z)({},o));case 4:return u(),f.default.success("Added successfully"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),u(),f.default.error("Adding failed, please try again!"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},p,null,[[1,9]])}));return function(o){return a.apply(this,arguments)}}(),le=function(){var a=(0,v.Z)(n().mark(function p(o){var u;return n().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(u=f.default.loading("\u6B63\u5728\u5220\u9664"),o){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,w.cM)({id:o.map(function(Z){return Z.id})});case 6:return u(),f.default.success("Deleted successfully and will refresh soon"),r.abrupt("return",!0);case 11:return r.prev=11,r.t0=r.catch(3),u(),f.default.error("Delete failed, please try again"),r.abrupt("return",!1);case 16:case"end":return r.stop()}},p,null,[[3,11]])}));return function(o){return a.apply(this,arguments)}}(),ne=function(){var p=(0,d.useState)([]),o=(0,T.Z)(p,2),u=o[0],F=o[1],r=(0,d.useState)(!1),Z=(0,T.Z)(r,2),D=Z[0],C=Z[1],h=(0,d.useRef)(),A=(0,d.useState)([]),j=(0,T.Z)(A,2),P=j[0],J=j[1],ue=[{title:"ID",dataIndex:"id",hideInSearch:!0,editable:!1,width:"7%"},{title:"\u9879\u76EE",editable:!1,dataIndex:"task",ellipsis:!0},{title:"\u5E73\u53F0",dataIndex:"platform",hideInSearch:!1,valueEnum:{fofa:{text:"fofa",status:"Success"},hunter:{text:"hunter",status:"Success"},zoomeye:{text:"zoomeye",status:"Success"}},editable:!1},{title:"\u7B56\u7565",dataIndex:"rule",copyable:!0,hideInSearch:!0},{title:"\u8FDB\u5EA6",hideInSearch:!0,dataIndex:"excute_time",valueType:"progress",editable:!1},{title:"\u64CD\u4F5C",valueType:"option",render:function(i,l,m,t){return[(0,s.jsx)("a",{onClick:function(){var E;t==null||(E=t.startEditable)===null||E===void 0||E.call(t,l.id)},children:"\u7F16\u8F91"},"editable"),(0,s.jsx)(S.Z,{disabled:l.excute_time!=="0",type:"primary",danger:!0,onClick:(0,v.Z)(n().mark(function y(){return n().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return console.log(l.excute_time),t==null||t.reload(),W.next=4,(0,w.ZU)({id:l.id});case 4:t==null||t.reload();case 5:case"end":return W.stop()}},y)})),children:"\u6267\u884C"},"excute")]}}];return(0,s.jsxs)(M.ZP,{ghost:!0,children:[(0,s.jsx)(I.ZP,{actionRef:h,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,s.jsxs)(S.Z,{type:"primary",onClick:function(){C(!0)},children:[(0,s.jsx)(R.Z,{})," \u65B0\u5EFA"]},"primary")]},request:w.l4,columns:ue,rowSelection:{onChange:function(i,l){J(l)}},editable:{type:"multiple",editableKeys:u,onSave:function(){var g=(0,v.Z)(n().mark(function l(m,t){return n().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,w.i5)({id:m,rule:t.rule});case 2:f.default.success("Configuration is successful"),h.current&&h.current.reload();case 4:case"end":return E.stop()}},l)}));function i(l,m){return g.apply(this,arguments)}return i}(),onChange:F,actionRender:function(i,l,m){return[m.save,m.cancel]}}}),(P==null?void 0:P.length)>0&&(0,s.jsx)(b.Z,{extra:(0,s.jsxs)("div",{children:[(0,s.jsx)(c._H,{id:"pages.searchTable.chosen",defaultMessage:"Chosen"})," ",(0,s.jsx)("a",{style:{fontWeight:600},children:P.length})," ",(0,s.jsx)(c._H,{id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,s.jsx)(S.Z,{type:"primary",onClick:(0,v.Z)(n().mark(function g(){var i,l;return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(P);case 2:J([]),(i=h.current)===null||i===void 0||(l=i.reloadAndRest)===null||l===void 0||l.call(i);case 4:case"end":return t.stop()}},g)})),children:(0,s.jsx)(c._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"Batch deletion"})})}),(0,s.jsxs)(te.Y,{title:"\u65B0\u5EFA\u7B56\u7565",width:"400px",visible:D,onVisibleChange:C,onFinish:function(){var g=(0,v.Z)(n().mark(function i(l){var m;return n().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,se(l);case 2:m=y.sent,m&&(C(!1),h.current&&h.current.reload());case 4:case"end":return y.stop()}},i)}));return function(i){return g.apply(this,arguments)}}(),children:[(0,s.jsx)(Y.Z,{label:"\u9879\u76EE",rules:[{required:!0,message:"\u89C4\u5219\u4E3A\u5FC5\u586B\u9879"}],width:"md",name:"task",placeholder:"\u8F93\u5165\u9879\u76EE"}),(0,s.jsx)(ae,{name:"platform",label:"\u5E73\u53F0",valueEnum:{fofa:"Fofa",hunter:"Hunter",zoomeye:"Zoomeye",shodan:"Shodan",quake:"Quake"},width:"md",rules:[{required:!0,message:"\u89C4\u5219\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u9009\u62E9\u5E73\u53F0"}),(0,s.jsx)(Y.Z,{label:"\u89C4\u5219",rules:[{required:!0,message:"\u89C4\u5219\u4E3A\u5FC5\u586B\u9879"}],width:"md",name:"rule",placeholder:"\u8F93\u5165\u89C4\u5219"})]})]})},oe=ne}}]);
