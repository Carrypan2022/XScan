(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[357],{16894:function(A,h,e){"use strict";var K=e(7381),p=e(40280);h.ZP=p.Z},16646:function(A,h,e){"use strict";e.r(h);var K=e(57663),p=e(71577),C=e(2824),x=e(34792),i=e(48086),m=e(3182),L=e(94043),_=e.n(L),M=e(67294),R=e(21010),S=e(81907),W=e(85224),B=e(16894),O=e(36571),t=e(85893),j=function(){var I=(0,m.Z)(_().mark(function D(d){var c;return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=i.default.loading("\u6B63\u5728\u5220\u9664"),d){a.next=3;break}return a.abrupt("return",!0);case 3:return a.prev=3,a.next=6,(0,O.Qu)({id:d.map(function(g){return g.id})});case 6:return c(),i.default.success("\u6279\u91CF\u5220\u9664\u6210\u529F"),a.abrupt("return",!0);case 11:return a.prev=11,a.t0=a.catch(3),c(),i.default.error("\u6279\u91CF\u5220\u9664\u5931\u8D25,\u8BF7\u91CD\u8BD5"),a.abrupt("return",!1);case 16:case"end":return a.stop()}},D,null,[[3,11]])}));return function(d){return I.apply(this,arguments)}}(),Z=function(){var D=(0,M.useState)([]),d=(0,C.Z)(D,2),c=d[0],T=d[1],a=(0,M.useRef)(),g=(0,M.useState)([]),y=(0,C.Z)(g,2),f=y[0],U=y[1],$=[{title:"ID",dataIndex:"id",hideInSearch:!0,editable:!1,width:"7%"},{title:"Url",editable:!1,dataIndex:"url",ellipsis:!0},{title:"Poc",dataIndex:"poc",hideInSearch:!1,editable:!1},{title:"snapshot",hideInSearch:!0,dataIndex:"snapshot",editable:!1,ellipsis:!0},{title:"\u64CD\u4F5C",valueType:"option",render:function(n,r){return[(0,t.jsx)(p.Z,{type:"primary",onClick:(0,m.Z)(_().mark(function l(){var s,v,u,P,b;return _().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,O.Qu)({id:[r.id]});case 2:s=E.sent,s.msg=="\u8BF7\u6C42\u6210\u529F"?(i.default.success("\u5220\u9664\u6210\u529F"),(v=a.current)===null||v===void 0||(u=v.reloadAndRest)===null||u===void 0||u.call(v)):(i.default.error("\u5220\u9664\u5931\u8D25"),(P=a.current)===null||P===void 0||(b=P.reloadAndRest)===null||b===void 0||b.call(P));case 4:case"end":return E.stop()}},l)})),children:"\u5220\u9664"},"editable")]}}];return(0,t.jsxs)(S.ZP,{ghost:!0,children:[(0,t.jsx)(B.ZP,{actionRef:a,rowKey:"id",search:{labelWidth:120},request:O.N2,columns:$,rowSelection:{onChange:function(n,r){U(r)}},editable:{type:"multiple",editableKeys:c,onSave:function(){var o=(0,m.Z)(_().mark(function r(l,s){return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,updatePolicy({id:l,rule:s.rule});case 2:i.default.success("Configuration is successful"),a.current&&a.current.reload();case 4:case"end":return u.stop()}},r)}));function n(r,l){return o.apply(this,arguments)}return n}(),onChange:T,actionRender:function(n,r,l){return[l.save,l.cancel]}}}),(f==null?void 0:f.length)>0&&(0,t.jsx)(W.Z,{extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(R._H,{id:"pages.searchTable.chosen",defaultMessage:"Chosen"})," ",(0,t.jsx)("a",{style:{fontWeight:600},children:f.length})," ",(0,t.jsx)(R._H,{id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,t.jsx)(p.Z,{type:"primary",onClick:(0,m.Z)(_().mark(function o(){var n,r;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,j(f);case 2:U([]),(n=a.current)===null||n===void 0||(r=n.reloadAndRest)===null||r===void 0||r.call(n);case 4:case"end":return s.stop()}},o)})),children:(0,t.jsx)(R._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"Batch deletion"})})})]})};h.default=Z}}]);
