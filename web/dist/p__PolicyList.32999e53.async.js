(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[420],{64317:function(w,C,e){"use strict";var T=e(22122),c=e(28991),h=e(81253),m=e(67294),Z=e(45114),u=e(22270),o=e(66758),A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],l=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],R=m.forwardRef(function(r,U){var I=r.fieldProps,W=r.children,D=r.params,t=r.proFieldProps,L=r.mode,B=r.valueEnum,F=r.request,b=r.showSearch,E=r.options,i=(0,h.Z)(r,A),_=(0,m.useContext)(o.Z);return m.createElement(Z.Z,(0,T.Z)({mode:"edit",valueEnum:(0,u.h)(B),request:F,params:D,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,c.Z)({options:E,mode:L,showSearch:b,getPopupContainer:_.getPopupContainer},I),ref:U,proFieldProps:t},i),W)}),g=m.forwardRef(function(r,U){var I=r.fieldProps,W=r.children,D=r.params,t=r.proFieldProps,L=r.mode,B=r.valueEnum,F=r.request,b=r.options,E=(0,h.Z)(r,l),i=(0,c.Z)({options:b,mode:L||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},I),_=(0,m.useContext)(o.Z);return m.createElement(Z.Z,(0,T.Z)({mode:"edit",valueEnum:(0,u.h)(B),request:F,params:D,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,c.Z)({getPopupContainer:_.getPopupContainer},i),ref:U,proFieldProps:t},E),W)}),d=R,S=g,f=d;f.SearchSelect=S,f.displayName="ProFormComponent",C.Z=f},5966:function(w,C,e){"use strict";var T=e(22122),c=e(81253),h=e(67294),m=e(45114),Z=["fieldProps","proFieldProps"],u=["fieldProps","proFieldProps"],o="text",A=function(d){var S=d.fieldProps,f=d.proFieldProps,r=(0,c.Z)(d,Z);return h.createElement(m.Z,(0,T.Z)({mode:"edit",valueType:o,fieldProps:S,filedConfig:{valueType:o},proFieldProps:f},r))},l=function(d){var S=d.fieldProps,f=d.proFieldProps,r=(0,c.Z)(d,u);return h.createElement(m.Z,(0,T.Z)({mode:"edit",valueType:"password",fieldProps:S,proFieldProps:f,filedConfig:{valueType:o}},r))},R=A;R.Password=l,R.displayName="ProFormComponent",C.Z=R},16894:function(w,C,e){"use strict";var T=e(7381),c=e(40280);C.ZP=c.Z},32908:function(w,C,e){"use strict";e.r(C);var T=e(57663),c=e(71577),h=e(2824),m=e(11849),Z=e(34792),u=e(48086),o=e(3182),A=e(94043),l=e.n(A),R=e(49101),g=e(67294),d=e(21010),S=e(81907),f=e(85224),r=e(16894),U=e(8890),I=e(5966),W=e(64317),D=e(36571),t=e(85893),L=function(){var b=(0,o.Z)(l().mark(function E(i){var _;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return _=u.default.loading("\u6B63\u5728\u6DFB\u52A0"),a.prev=1,a.next=4,(0,D.b8)((0,m.Z)({},i));case 4:return _(),u.default.success("Added successfully"),a.abrupt("return",!0);case 9:return a.prev=9,a.t0=a.catch(1),_(),u.default.error("Adding failed, please try again!"),a.abrupt("return",!1);case 14:case"end":return a.stop()}},E,null,[[1,9]])}));return function(i){return b.apply(this,arguments)}}(),B=function(){var b=(0,o.Z)(l().mark(function E(i){var _;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(_=u.default.loading("\u6B63\u5728\u5220\u9664"),i){a.next=3;break}return a.abrupt("return",!0);case 3:return a.prev=3,a.next=6,(0,D.cM)({id:i.map(function(j){return j.id})});case 6:return _(),u.default.success("Deleted successfully and will refresh soon"),a.abrupt("return",!0);case 11:return a.prev=11,a.t0=a.catch(3),_(),u.default.error("Delete failed, please try again"),a.abrupt("return",!1);case 16:case"end":return a.stop()}},E,null,[[3,11]])}));return function(i){return b.apply(this,arguments)}}(),F=function(){var E=(0,g.useState)([]),i=(0,h.Z)(E,2),_=i[0],$=i[1],a=(0,g.useState)(!1),j=(0,h.Z)(a,2),z=j[0],V=j[1],y=(0,g.useRef)(),N=(0,g.useState)([]),X=(0,h.Z)(N,2),K=X[0],H=X[1],G=[{title:"ID",dataIndex:"id",hideInSearch:!0,editable:!1,width:"7%"},{title:"\u9879\u76EE",editable:!1,dataIndex:"task",ellipsis:!0},{title:"\u5E73\u53F0",dataIndex:"platform",hideInSearch:!1,valueEnum:{fofa:{text:"fofa",status:"Success"},hunter:{text:"hunter",status:"Success"},zoomeye:{text:"zoomeye",status:"Success"}},editable:!1},{title:"\u7B56\u7565",dataIndex:"rule",copyable:!0,hideInSearch:!0},{title:"\u8FDB\u5EA6",hideInSearch:!0,dataIndex:"excute_time",valueType:"progress",editable:!1},{title:"\u64CD\u4F5C",valueType:"option",render:function(p,n,P,s){return[(0,t.jsx)("a",{onClick:function(){var v;s==null||(v=s.startEditable)===null||v===void 0||v.call(s,n.id)},children:"\u7F16\u8F91"},"editable"),(0,t.jsx)(c.Z,{disabled:n.excute_time!=="0",type:"primary",danger:!0,onClick:(0,o.Z)(l().mark(function O(){var v;return l().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return console.log(n.excute_time),s==null||s.reload(),x.next=4,(0,D.ZU)({id:n.id});case 4:v=x.sent,u.default.info(v.data),s==null||s.reload();case 7:case"end":return x.stop()}},O)})),children:"\u6267\u884C"},"excute")]}}];return(0,t.jsxs)(S.ZP,{ghost:!0,children:[(0,t.jsx)(r.ZP,{actionRef:y,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsxs)(c.Z,{type:"primary",onClick:function(){V(!0)},children:[(0,t.jsx)(R.Z,{})," \u65B0\u5EFA"]},"primary")]},request:D.l4,columns:G,rowSelection:{onChange:function(p,n){H(n)}},editable:{type:"multiple",editableKeys:_,onSave:function(){var M=(0,o.Z)(l().mark(function n(P,s){return l().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,D.i5)({id:P,rule:s.rule});case 2:u.default.success("Configuration is successful"),y.current&&y.current.reload();case 4:case"end":return v.stop()}},n)}));function p(n,P){return M.apply(this,arguments)}return p}(),onChange:$,actionRender:function(p,n,P){return[P.save,P.cancel]}}}),(K==null?void 0:K.length)>0&&(0,t.jsx)(f.Z,{extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(d._H,{id:"pages.searchTable.chosen",defaultMessage:"Chosen"})," ",(0,t.jsx)("a",{style:{fontWeight:600},children:K.length})," ",(0,t.jsx)(d._H,{id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,t.jsx)(c.Z,{type:"primary",onClick:(0,o.Z)(l().mark(function M(){var p,n;return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,B(K);case 2:H([]),(p=y.current)===null||p===void 0||(n=p.reloadAndRest)===null||n===void 0||n.call(p);case 4:case"end":return s.stop()}},M)})),children:(0,t.jsx)(d._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"Batch deletion"})})}),(0,t.jsxs)(U.Y,{title:"\u65B0\u5EFA\u7B56\u7565",width:"400px",visible:z,onVisibleChange:V,onFinish:function(){var M=(0,o.Z)(l().mark(function p(n){var P;return l().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,L(n);case 2:P=O.sent,P&&(V(!1),y.current&&y.current.reload());case 4:case"end":return O.stop()}},p)}));return function(p){return M.apply(this,arguments)}}(),children:[(0,t.jsx)(I.Z,{label:"\u9879\u76EE",rules:[{required:!0,message:"\u89C4\u5219\u4E3A\u5FC5\u586B\u9879"}],width:"md",name:"task",placeholder:"\u8F93\u5165\u9879\u76EE"}),(0,t.jsx)(W.Z,{name:"platform",label:"\u5E73\u53F0",valueEnum:{fofa:"Fofa",hunter:"Hunter",shodan:"Shodan",quake:"Quake"},width:"md",rules:[{required:!0,message:"\u89C4\u5219\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u9009\u62E9\u5E73\u53F0"}),(0,t.jsx)(I.Z,{label:"\u89C4\u5219",rules:[{required:!0,message:"\u89C4\u5219\u4E3A\u5FC5\u586B\u9879"}],width:"md",name:"rule",placeholder:"\u8F93\u5165\u89C4\u5219"})]})]})};C.default=F}}]);
